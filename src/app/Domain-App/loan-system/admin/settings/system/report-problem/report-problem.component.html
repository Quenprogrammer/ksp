<main id="content" role="main" class="main">
  <!-- Content -->
  <div class="content container-fluid">
    <div class="row justify-content-center align-items-sm-center py-sm-10">
      <div class="col-9 col-sm-6 col-lg-4">
        <div class="text-center text-sm-end me-sm-4 mb-5 mb-sm-0">
          <img class="img-fluid" src="./assets/svg/illustrations/oc-thinking.svg" alt="Image Description" data-hs-theme-appearance="default">
        </div>
      </div>
      <!-- End Col -->

      <div class="col-sm-6 col-lg-6 text-center text-sm-start">
        <h1 class="display-3 mb-0">Report an Issue</h1>
        <p class="lead">Use this page to submit any concerns, complaints, or issues you experience, whether related to academics, welfare, or the use of this platform. All reports are treated with confidentiality and will be addressed by the appropriate office.</p>
        <a class="btn btn-primary me-2" (click)="this.openModal.set(true)">Write Message</a>
        <a class="btn btn-primary"  (click)="this.reportedModal.set(true)">Submitted Reports</a>
      </div>
      <!-- End Col -->
    </div>
    <!-- End Row -->
  </div>
  <!-- End Content -->

  <!-- Footer -->

  <div class="footer">
    <div class="row justify-content-between align-items-center">
      <div class="col">
        <p class="fs-6 mb-0">Â© Front. <span class="d-none d-sm-inline-block">2022 Htmlstream.</span></p>
      </div>
      <!-- End Col -->

      <div class="col-auto">
        <div class="d-flex justify-content-end">
          <!-- List Separator -->
          <ul class="list-inline list-separator">
            <li class="list-inline-item">
              <a class="list-separator-link" href="#">FAQ</a>
            </li>

            <li class="list-inline-item">
              <a class="list-separator-link" href="#">License</a>
            </li>

            <li class="list-inline-item">
              <!-- Keyboard Shortcuts Toggle -->
              <button class="btn btn-ghost-secondary btn btn-icon btn-ghost-secondary rounded-circle" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasKeyboardShortcuts" aria-controls="offcanvasKeyboardShortcuts">
                <i class="bi-command"></i>
              </button>
              <!-- End Keyboard Shortcuts Toggle -->
            </li>
          </ul>
          <!-- End List Separator -->
        </div>
      </div>
      <!-- End Col -->
    </div>
    <!-- End Row -->
  </div>

  <!-- End Footer -->
</main>



<div *ngIf="reportedModal()" class="modal-overlay">
  <div class="modal-contents">
    <div class="card h-100">
      <div class="card-header d-flex justify-content-end gap-2">

        <a class="btn btn-ghost-danger btn-sm" (click)="reportedModal.set(false)">Close</a>
      </div>
      <div class="card-body-height p-3">
        <ng-content>
          <app-reported-problems></app-reported-problems>    </ng-content>
      </div>
    </div>
  </div>
</div>
<div *ngIf=" openModal()" class="modal-overlay">
  <div class="modal-contents">
    <div class="card h-100">
      <div class="card-header d-flex justify-content-end gap-2">

        <a class="btn btn-ghost-danger btn-sm" (click)="openModal.set(false)">Close</a>
      </div>
      <div class="card-body-height p-3">
        <div>
          <img src="./assets/svg/illustrations/oc-browse-file.svg" class="mb-2" style="width: 40px">
          <h1>Cloude base Report</h1>

          <div class="mb-3 mt-5">
        <textarea
          id="exampleFormControlTextarea1"
          class="form-control"
          placeholder="Type your message..."
          rows="8"
          [(ngModel)]="message"
        ></textarea>
            <div class="my-2">

              <select
                id="priority"
                class="form-select"
                [(ngModel)]="priority">
                <option value="" disabled selected>Select priority</option>
                <option value="Low">Low</option>
                <option value="Medium">Medium</option>
                <option value="High">High</option>
                <option value="Critical">Critical</option>
              </select>

            </div>



            <div class="row g-1">
              <div class="col-4">
                <!-- Hidden file input -->
                <input
                  type="file"
                  id="fileInput"
                  (change)="onFileSelected($event)"
                  hidden
                />

                <!-- Trigger button -->
                <button
                  type="button"
                  class="btn btn-outline-primary my-2 w-100"
                  (click)="document.getElementById('fileInput')?.click()"
                >
                  Attach Files
                </button>



              </div>

              <div class="col-8">
                <button
                  (click)="submitReport()"
                  [disabled]="loading"
                  class="btn btn-primary my-2 w-100 w-md-75"
                >
                  {{ loading ? 'Submitting...' : 'Submit Report' }}
                </button>
              </div>
            </div>
            <p *ngIf="selectedFile" class="text-muted small mt-2">
              ðŸ“Ž File selected: {{ selectedFile.name }}
            </p>
            <h3 *ngIf="success" class="mt-4   text-center">{{ success }}</h3>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
