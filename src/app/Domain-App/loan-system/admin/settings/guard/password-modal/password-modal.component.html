<main id="lg screen" role="main" class="d-none d-lg-block flex-grow-1 content-space-3 content-space-lg-0">
  <div style="overflow-x: hidden">
    <div class="row">
      <div
        class="col-md-6 d-lg-flex justify-content-center align-items-center min-vh-lg-100 position-relative"
        style="background-image: url(./assets/svg/components/wave-pattern-light.svg); background-color: black"
      >
        <div class="flex-grow-1 p-5">
          <div class="lock-screen">
            <img src="chatIcons/settings/me.gif" class="img-fluid" style="height: 300px;">
            <h1 class="text-danger mt-n2">Confidential</h1>
            <p class="text-danger">Please check back later or contact support.</p>
          </div>
        </div>
      </div>

      <div class="col-md-6 d-flex justify-content-center align-items-center min-vh-lg-100">
        <div class="flex-grow-1 mx-auto" style="max-width: 28rem;">
          <div class="card-body">
            <h1 class="display-4 text-center" [style.color]="headerColor">{{header}}</h1>
            <div class="col-md mt-4 mb-md-0">
              <h4 class="text-start" [style.color]="headerColor" >Enter Password</h4>
              <input
                class="form-control"
                type="password"
                [(ngModel)]="passwordValue"
                placeholder="Password"
                style="font-size:30px;"
                [disabled]="isLocked"
              />
            </div>

            <div class="col-md-auto mt-3 d-grid d-flex gap-2">
              <button
                (click)="submit()"
                type="button"
                class="btn w-75"
                style="border: solid 1px white; font-size: 14px; height: auto; color: white; background-color: black"
                [disabled]="isLocked" [style.background-color]="headerColor"
              >
                <i class="bi-key nav-icon p-1" ></i>Unlock
              </button>

              <button class="btn btn-danger w-25" (click)="closeModal()" routerLink="/menu">Close</button>
            </div>

            <div class="p-1 my-3">
              <div class="row align-items-center flex-grow-1 mb-2">
                <div class="col">
                  <h4
                    class="text-start card-header-title"
                    [ngStyle]="{'color': attemptCount() < 3 ? 'black' : 'red'}"
                  >
                    Attempts
                  </h4>
                </div>
                <div class="col-auto">
                  <span class="text-dark fw-semibold">{{ attemptCount() }}</span> out of {{ maxAttempts() }}
                </div>
              </div>

              <div class="progress rounded-pill mb-3" style="height: 20px;">
                <div
                  class="progress-bar"
                  role="progressbar"
                  [style.width.%]="(attemptCount() / maxAttempts()) * 100"
                  aria-valuemin="0"
                  aria-valuemax="100"
                  [ngClass]="{
                    'bg-success': attemptCount() < 2,
                    'bg-danger': attemptCount() > 2
                  }"
                ></div>
              </div>

              <p class="error" *ngIf="error" [ngStyle]="{'color': attemptCount() >= 3 ? 'black' :'red'}">
                Incorrect password. Try again.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>

<main id="small screen" role="main" style="background-color: black;">
  <div class="card text-white d-lg-none" style="height: 100vh;">
    <div class="card-body text-center" style="background-color: black;">
      <div class="mx-auto mt-2" style="max-width: 30rem;">
        <img src="chatIcons/settings/me.gif" class="img" style="max-width: 20rem;">
        <h1 class="display-3 text-danger text-center mt-n3">Confidential</h1>

        <div class="mt-4">
          <h4 class="text-start text-white">Enter Password</h4>
          <input
            class="form-control"
            type="password"
            [(ngModel)]="passwordValue"
            placeholder="Password"
            style="font-size:20px;"
            [disabled]="isLocked"
          />
          <div class="d-grid d-flex gap-2 mt-3">
            <button
              (click)="submit()"
              type="button"
              class="btn w-75"
              style="border: solid 1px white; font-size: 14px; height: auto; color: white"
              [disabled]="isLocked"
            >
              <i class="bi-key nav-icon p-1"></i>Unlock
            </button>

            <button
              class="btn btn-danger w-25"
              style="border: solid 1px white; font-size: 14px; height: auto; color: white"
              (click)="closeModal()"
              routerLink="/menu"
            >
              Close
            </button>
          </div>

          <div class="p-1 my-3">
            <div class="row align-items-center flex-grow-1 mb-2">
              <div class="col">
                <h4
                  class="text-start card-header-title text-white"
                  [ngStyle]="{'color': attemptCount() >= 3 ? 'black' :'red'}"
                >
                  Attempts
                </h4>
              </div>
              <div class="col-auto">
                <span class="text-dark fw-semibold">{{ attemptCount() }}</span> out of {{ maxAttempts() }}
              </div>
            </div>

            <div class="progress rounded-pill mb-3" style="height: 20px;">
              <div
                class="progress-bar"
                role="progressbar"
                [style.width.%]="(attemptCount() / maxAttempts()) * 100"
                aria-valuemin="0"
                aria-valuemax="100"
                [ngClass]="{
                  'bg-success': attemptCount() < 2,
                  'bg-danger': attemptCount() > 2
                }"
              ></div>
            </div>

            <p class="error" *ngIf="error" [ngStyle]="{'color': attemptCount() >= 3 ? 'black' :'red'}">
              Incorrect password. Try again.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
