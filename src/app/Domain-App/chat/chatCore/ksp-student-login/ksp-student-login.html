<main id="content" role="main" class="main">
  <div class="position-fixed top-0 end-0 start-0 bg-img-start" style="height: 32rem; background-image: url(chatIcons/card-6.svg);">
    <!-- Shape -->
    <div class="shape shape-bottom zi-1">
      <svg preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 1921 273">
        <polygon fill="#fff" points="0,273 1921,273 1921,0 "></polygon>
      </svg>
    </div>
    <!-- End Shape -->
  </div>

  <!-- Content -->
  <div class="container py-5 py-sm-7">
    <a class="d-flex justify-content-center mb-5" >
      <img class="zi-2" src="chatIcons/poly/polyWhiteLogo.png" alt="Image Description" style="width: 10rem;">
    </a>

    <div class="mx-auto" style="max-width: 37rem;">
      <!-- Card -->
      <div class="card card-lg mb-5">
        <div class="card-body">
          <div class="text-center">
            <div class="mb-5">
              <h1 class="display-5">Sign in</h1>
              <p>Don't have an account yet? <a class="link" routerLink="/studentCreatAccount">Sign up here</a></p>
            </div>

            <div class="d-grid mb-4">
              <a class="btn btn-white btn-lg" routerLink="/default">
                    <span class="d-flex justify-content-center align-items-center">
                      <img class="avatar avatar-xss me-2" src="chatIcons/settings/img_8.png" alt="Image Description">
                      Contact Administrators
                    </span>
              </a>
            </div>

            <span class="divider-center text-muted mb-4">OR</span>
          </div>
          <form [formGroup]="loginForm" (ngSubmit)="onLogin()" class="border p-4 rounded bg-light shadow-sm">
            <h3 class="fw-bold mb-3 text-center text-primary">Student Login</h3>

            <!-- Registration Number Field -->
            <div class="mb-3">
              <label class="form-label fw-semibold">Registration No.</label>
              <input
                type="text"
                class="form-control"
                formControlName="regNo"
                placeholder="Enter your Registration Number"
                [ngClass]="{ 'is-invalid': loginForm.get('regNo')?.invalid && loginForm.get('regNo')?.touched }"
              />
              <div class="invalid-feedback">
                Registration number is required
              </div>
            </div>

            <!-- Email Field -->
            <div class="mb-3">
              <label class="form-label fw-semibold">Email</label>
              <input
                type="email"
                class="form-control"
                formControlName="email"
                placeholder="Enter your email address"
                [ngClass]="{ 'is-invalid': loginForm.get('email')?.invalid && loginForm.get('email')?.touched }"
              />
              <div class="invalid-feedback">
                A valid email is required
              </div>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary w-100 py-2" [disabled]="loading">
              <span *ngIf="!loading">Login</span>
              <span *ngIf="loading">
      <i class="spinner-border spinner-border-sm me-2"></i> Logging in...
    </span>
            </button>

            <!-- Status Message -->
            <div
              class="mt-3 text-center fw-semibold"
              [ngClass]="{
      'text-success': message.startsWith('✅'),
      'text-danger': message.startsWith('❌') || message.startsWith('⚠️')
    }"
            >
              {{ message }}
            </div>

            <!-- Optional Hint or Link -->
            <div class="mt-3 text-center small text-muted">
              Don’t have an account?
              <a routerLink="/student-register" class="text-primary fw-semibold text-decoration-none">Register Here</a>
            </div>
          </form>



        </div>
      </div>
      <!-- End Card -->

      <!-- Footer -->
      <div class="position-relative text-center zi-1">
        <small class="text-cap text-body mb-4">Trusted by the world's best teams</small>

        <div class="w-85 mx-auto">
          <div class="row justify-content-between">
            <div class="col">
              <img class="img-fluid" src="./assets/svg/brands/gitlab-gray.svg" alt="Logo">
            </div>
            <!-- End Col -->

            <div class="col">
              <img class="img-fluid" src="./assets/svg/brands/fitbit-gray.svg" alt="Logo">
            </div>
            <!-- End Col -->

            <div class="col">
              <img class="img-fluid" src="./assets/svg/brands/flow-xo-gray.svg" alt="Logo">
            </div>
            <!-- End Col -->

            <div class="col">
              <img class="img-fluid" src="./assets/svg/brands/layar-gray.svg" alt="Logo">
            </div>
            <!-- End Col -->
          </div>
          <!-- End Row -->
        </div>
      </div>
      <!-- End Footer -->
    </div>
  </div>
  <!-- End Content -->
</main>

