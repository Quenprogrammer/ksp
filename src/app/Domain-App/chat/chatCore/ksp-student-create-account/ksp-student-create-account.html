<main id="content" role="main" class="main">
  <div class="position-fixed top-0 end-0 start-0 bg-img-start" style="height: 32rem; background-image: url(chatIcons/card-6.svg);">
    <!-- Shape -->
    <div class="shape shape-bottom zi-1">
      <svg preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 1921 273">
        <polygon fill="#fff" points="0,273 1921,273 1921,0 "></polygon>
      </svg>
    </div>

  </div>

  <!-- Content -->
  <div class="container py-5 py-sm-7">
    <a class="d-flex justify-content-center mb-5" >
      <img class="zi-2" src="chatIcons/poly/polyWhiteLogo.png" alt="Image Description" style="width: 12rem;">
    </a>
    <div class="mx-auto" style="max-width: 37rem;">
      <!-- Card -->
      <div class="card card-lg mb-5">
        <div class="card-body">

            <div class="text-center">
              <div class="mb-5">
                <h1 class="display-5">Create your account</h1>
                <p>Already have an account? <a class="link" routerLink="/studentDashboard">Sign in here</a></p>
              </div>


            </div>


          <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" novalidate class="">

            <div class="mb-3">
              <label class="form-label">Full Name</label>
              <input type="text" class="form-control" formControlName="name" placeholder="Enter full name" />
              <div class="text-danger small" *ngIf="signupForm.get('name')?.invalid && signupForm.get('name')?.touched">
                <div *ngIf="signupForm.get('name')?.errors?.['required']">Name is required.</div>
                <div *ngIf="signupForm.get('name')?.errors?.['minlength']">Name must be at least 3 characters.</div>
              </div>
            </div>

            <div class="row g-1">
              <div class="col-md-6">
                <div class="mb-3">
                  <label class="form-label">Email</label>
                  <input type="email" class="form-control" formControlName="email" placeholder="Enter email" />
                  <div class="text-danger small" *ngIf="signupForm.get('email')?.invalid && signupForm.get('email')?.touched">
                    <div *ngIf="signupForm.get('email')?.errors?.['required']">Email is required.</div>
                    <div *ngIf="signupForm.get('email')?.errors?.['email']">Invalid email format.</div>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="mb-3">
                  <label class="form-label">Phone</label>
                  <input type="text" class="form-control" formControlName="phone" placeholder="Enter phone number" />
                  <div class="text-danger small" *ngIf="signupForm.get('phone')?.invalid && signupForm.get('phone')?.touched">
                    <div *ngIf="signupForm.get('phone')?.errors?.['required']">Phone number is required.</div>
                    <div *ngIf="signupForm.get('phone')?.errors?.['pattern']">Invalid phone number.</div>
                  </div>
                </div>
              </div>
            </div>

            <div class="row g-1">
              <div class="col-md-6">
                <div class="mb-3">
                  <label class="form-label">Password</label>
                  <input   class="form-control" formControlName="password" placeholder="Enter password" />
                  <div class="text-danger small" *ngIf="signupForm.get('password')?.invalid && signupForm.get('password')?.touched">
                    <div *ngIf="signupForm.get('password')?.errors?.['required']">Password is required.</div>
                    <div *ngIf="signupForm.get('password')?.errors?.['minlength']">Password must be at least 6 characters.</div>
                  </div>
                </div>
              </div>
              <div class="col-md-6"></div>
            </div>

            <div class="row g-1">
              <div class="col-md-6">
                <div class="mb-3">
                  <label class="form-label">Department</label>
                  <select class="form-select" formControlName="department">
                    <option value="" disabled selected>Select Department</option>
                    <option *ngFor="let c of courses" [value]="c.name">{{ c.name }}</option>
                  </select>
                  <div class="text-danger small" *ngIf="signupForm.get('department')?.invalid && signupForm.get('department')?.touched">
                    Department is required
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="mb-3">
                  <label class="form-label">Registration No.</label>
                  <input type="text" class="form-control" formControlName="regNo" placeholder="Enter registration number" />
                  <div class="text-danger small" *ngIf="signupForm.get('regNo')?.invalid && signupForm.get('regNo')?.touched">
                    Registration number is required
                  </div>
                </div>
              </div>
            </div>

            <div class="row g-1">
              <div class="col-md-6">
                <div class="mb-3">
                  <label class="form-label">Level</label>
                  <input type="text" class="form-control" formControlName="level" placeholder="Enter level" />
                  <div class="text-danger small" *ngIf="signupForm.get('level')?.invalid && signupForm.get('level')?.touched">
                    Level is required
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="mb-3">
                  <label class="form-label">School</label>
                  <select class="form-control" formControlName="school">
                    <option value="" disabled>Select school</option>
                    <option value="School of Technology">School of Technology</option>
                    <option value="School of Management Studies">School of Management Studies</option>
                    <option value="School of General Studies">School of General Studies</option>
                  </select>
                  <div class="text-danger small" *ngIf="signupForm.get('school')?.invalid && signupForm.get('school')?.touched">
                    School is required
                  </div>
                </div>
              </div>
            </div>

            <div class="row g-1">
              <div class="col-md-6">
                <div class="mb-3">
                  <label class="form-label">Gender</label>
                  <select class="form-control" formControlName="gender">
                    <option value="" disabled>Select gender</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Other">Other</option>
                  </select>
                  <div class="text-danger small" *ngIf="signupForm.get('gender')?.invalid && signupForm.get('gender')?.touched">
                    Gender is required
                  </div>
                </div>
              </div>
              <div class="col-md-6"></div>
            </div>

            <button type="submit" class="btn btn-primary w-100" [disabled]="loading">
              {{ loading ? 'Creating Account...' : 'Sign Up' }}
            </button>

            <div class="mt-3 text-center" [ngClass]="{
    'text-success': message.startsWith('✅'),
    'text-danger': message.startsWith('❌') || message.startsWith('⚠️')
  }">
              {{ message }}
            </div>
          </form>


          <!-- End Form -->
        </div>
      </div>
      <!-- End Card -->

      <!-- Footer -->
      <div class="position-relative text-center zi-1">
        <small class="text-cap text-body mb-4">Trusted by the world's best teams</small>

        <div class="w-85 mx-auto">
          <div class="row justify-content-between">
            <div class="col">
              <img class="img-fluid" src="./assets/svg/brands/gitlab-gray.svg" alt="Logo">
            </div>
            <!-- End Col -->

            <div class="col">
              <img class="img-fluid" src="./assets/svg/brands/fitbit-gray.svg" alt="Logo">
            </div>
            <!-- End Col -->

            <div class="col">
              <img class="img-fluid" src="./assets/svg/brands/flow-xo-gray.svg" alt="Logo">
            </div>
            <!-- End Col -->

            <div class="col">
              <img class="img-fluid" src="./assets/svg/brands/layar-gray.svg" alt="Logo">
            </div>
            <!-- End Col -->
          </div>
          <!-- End Row -->
        </div>
      </div>
      <!-- End Footer -->
    </div>
  </div>
  <!-- End Content -->
</main>


