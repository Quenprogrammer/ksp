
  <section class="card shadow-lg border-0 py-1 p-md-2 p-xl-3 p-xxl-4 mb-4">
    <div class="card-body">
      <div class="d-flex align-items-center pb-4 mt-sm-n1 mb-0 mb-lg-1 mb-xl-3">
        <i class="ai-lock-closed text-primary lead pe-1 me-2"></i>
        <h2 class="h4 mb-0">Password change</h2>
      </div>

      <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()">
        <div class="row align-items-center g-3 g-sm-4 pb-3">

          <!-- Current password -->
          <div class="col-sm-6">
            <div class="mb-3">
              <label for="currentPassword" class="form-label">Current Password</label>
              <div class="password-toggle">
                <input [type]="showCurrent ? 'text' : 'password'"
                       class="form-control"
                       id="currentPassword"
                       formControlName="currentPassword">
                <label class="password-toggle-button" aria-label="Show/hide password">
                  <input type="checkbox" class="btn-check" (change)="showCurrent = !showCurrent">
                </label>
              </div>
              <div *ngIf="f['currentPassword'].touched && f['currentPassword'].invalid" class="text-danger small">
                Current password is required
              </div>
            </div>
          </div>

          <div class="col-sm-6">
            <a class="d-inline-block fs-sm fw-semibold text-decoration-none mt-sm-4"
               href="account-password-recovery.html">Forgot password?</a>
          </div>

          <!-- New password -->
          <div class="col-sm-6">
            <div class="mb-3">
              <label for="newPassword" class="form-label">New Password</label>
              <div class="password-toggle">
                <input [type]="showNew ? 'text' : 'password'"
                       class="form-control"
                       id="newPassword"
                       formControlName="newPassword">
                <label class="password-toggle-button" aria-label="Show/hide password">
                  <input type="checkbox" class="btn-check" (change)="showNew = !showNew">
                </label>
              </div>
              <div *ngIf="f['newPassword'].touched && f['newPassword'].invalid" class="text-danger small">
                New password is required (min 8 characters)
              </div>
            </div>
          </div>

          <!-- Confirm password -->
          <div class="col-sm-6">
            <div class="mb-3">
              <label for="confirmPassword" class="form-label">Confirm Password</label>
              <div class="password-toggle">
                <input [type]="showConfirm ? 'text' : 'password'"
                       class="form-control"
                       id="confirmPassword"
                       formControlName="confirmPassword">
                <label class="password-toggle-button" aria-label="Show/hide password">
                  <input type="checkbox" class="btn-check" (change)="showConfirm = !showConfirm">
                </label>
              </div>
              <div *ngIf="f['confirmPassword'].touched && f['confirmPassword'].invalid" class="text-danger small">
                Confirm password is required
              </div>
              <div *ngIf="passwordForm.errors?.['passwordMismatch'] && f['confirmPassword'].touched" class="text-danger small">
                Passwords do not match
              </div>
            </div>
          </div>
        </div>

        <div class="alert alert-info d-flex my-3 my-sm-4">
          <i class="ai-circle-info fs-xl me-2"></i>
          <p class="mb-0">Password must be minimum 8 characters long - the more, the better.</p>
        </div>

        <div class="d-flex justify-content-end pt-3">
          <button class="btn btn-secondary" type="reset" (click)="passwordForm.reset()">Cancel</button>
          <button class="btn btn-primary ms-3" type="submit">Save changes</button>
        </div>
      </form>
    </div>
  </section>

