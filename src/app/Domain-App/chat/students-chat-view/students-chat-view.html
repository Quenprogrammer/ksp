<div class="card mb-3 mb-lg-5">
  <!-- Header -->
  <div class="card-header">
    <div class="row justify-content-between align-items-center flex-grow-1">
      <div class="col-md">
        <h4 class="card-header-title">Students</h4>
      </div>

      <!-- Search -->
      <div class="col-md-4">
        <form>
          <div class="input-group input-group-merge input-group-flush">
            <div class="input-group-prepend input-group-text">
              <i class="bi-search"></i>
            </div>
            <input type="search"
                   class="form-control"
                   placeholder="Search students"
                   [(ngModel)]="searchTerm"
                   name="searchTerm"
                   (input)="filterStudents()"
                   aria-label="Search students">
          </div>
        </form>
      </div>
    </div>
  </div>
  <!-- End Header -->

  <!-- Table -->
  <div class="table-responsive datatable-custom">
    <table class="table table-borderless table-thead-bordered table-nowrap table-align-middle card-table">
      <thead class="thead-light">
      <tr>
        <th>#</th>
        <th>Full Name</th>
        <th>Email</th>
        <th>Phone</th>
        <th>Reg. No</th>
        <th>Department</th>
        <th>Course</th>
        <th>Level</th>
        <th>School</th>
        <th>Gender</th>
        <th>Created On</th>
        <th>Action</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let student of paginatedStudents(); let i = index">
        <td>{{ (currentPage() - 1) * itemsPerPage + i + 1 }}</td>
        <td>{{ student.name }}</td>
        <td>{{ student.email }}</td>
        <td>{{ student.phone }}</td>
        <td>{{ student.registrationNumber }}</td>
        <td>{{ student.department }}</td>
        <td>{{ student.course }}</td>
        <td>{{ student.level }}</td>
        <td>{{ student.school }}</td>
        <td>{{ student.gender }}</td>
        <td>{{ student.createdOn | date: 'medium' }}</td>
        <td>
          <button class="btn btn-sm btn-danger" (click)="deleteStudent(student.id)">
            Delete
          </button>
        </td>
      </tr>
      <tr *ngIf="filteredStudents().length === 0">
        <td colspan="12" class="text-center text-muted">No students found.</td>
      </tr>
      </tbody>
    </table>
  </div>
  <!-- End Table -->

  <!-- Footer (Pagination) -->
  <div class="card-footer">
    <div class="row justify-content-center justify-content-sm-between align-items-sm-center">
      <div class="col-sm mb-2 mb-sm-0">
        <span class="me-2">Showing:</span>
        <span>{{ paginatedStudents().length }}</span>
        <span class="text-secondary mx-2">of</span>
        <span>{{ filteredStudents().length }}</span>
      </div>

      <div class="col-sm-auto">
        <ul class="pagination datatable-custom-pagination">
          <li class="page-item" [class.disabled]="currentPage() === 1">
            <a class="page-link" href="javascript:;" (click)="prevPage()">Prev</a>
          </li>
          <li *ngFor="let page of totalPages"
              class="page-item"
              [class.active]="currentPage() === page">
            <a class="page-link" href="javascript:;" (click)="goToPage(page)">{{ page }}</a>
          </li>
          <li class="page-item" [class.disabled]="currentPage() === totalPages.length">
            <a class="page-link" href="javascript:;" (click)="nextPage()">Next</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <!-- End Footer -->
</div>
