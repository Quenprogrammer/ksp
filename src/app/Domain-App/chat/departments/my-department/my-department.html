<app-header-poly></app-header-poly>
<div class="px-1 " style="overflow-x: hidden">
  <div class="card content-space-t-3" >

    <div class="row">
      <div class="col-lg-4">
        <!-- Card Body -->
        <div class="card-body bg-light h-100 d-flex flex-column">



          <!-- Total lecture -->
          <span class="d-block mb-1">
      Total Lecture
      <span class="badge bg-soft-dark text-dark rounded-pill ms-1">+1 this week</span>
    </span>

          <!-- Students Stats -->
          <ul class="list-unstyled list-py-1 flex-grow-1">
            @for (items of studentsStats; track items.level) {
              <li class="align-items-center fs-6">
                <div class="row">
                  <div class="col-3"><span class="me-3">{{ items.level }}</span></div>
                  <div class="col-9 text-end">{{ items.students }} Students</div>
                </div>

                <div class="progress flex-grow-1">
                  <div class="progress-bar" role="progressbar"
                       [style.width]="items.percent + '%'"
                       aria-valuemin="0" aria-valuemax="100"></div>
                </div>
              </li>
            }
          </ul>

        <!--  <div class="card shadow-lg">

          <div class=" card-body  d-flex flex-column" style="height: 100%;">
            <div class="mb-1">
              <h4>Create post</h4>
              <label for="inputGroupHoverLightFullName" class="form-label">Subject</label>

              <div class="input-group input-group-merge input-group-hover-light">
                <div class="input-group-prepend input-group-text" id="inputGroupHoverLightFullNameAddOn">
                  <i class="bi-person"></i>
                </div>
                <input type="text" class="form-control" id="inputGroupHoverLightFullName"
                       placeholder="Mark Williams"
                       aria-label="Mark Williams"
                       aria-describedby="inputGroupHoverLightFullNameAddOn">
              </div>
            </div>

            <div class="mb-3">
              <label class="form-label" for="exampleFormControlTextarea1">Message</label>
              <textarea id="exampleFormControlTextarea1" class="form-control"
                        placeholder="Textarea field" rows="4"></textarea>
            </div>

            &lt;!&ndash; push button to bottom &ndash;&gt;

          </div>
            <div class="card-footer bg-light">
              <div class="mt-auto">
                <button type="button" class="btn btn-primary btn-lg w-100">
                  <i class="bi-envelope-open px-2"></i>
                  Send message
                </button>
              </div>
            </div>




</div>-->
        </div>
        <!-- End Card Body -->
      </div>


      <div class="col-lg-8">
        <!-- Body -->
        <div class="card-body card-body-height" style="height: 90vh">
          <div class="row">
            <div class="col-6">  <h3>Recent Posts</h3></div>
            <div class="col-6 text-end">  <button type="button" class="btn btn-primary btn-lg mt-2  " routerLink="/viewStudentsDepartment" > <i class="bi-person"></i>View Students</button>
            </div>
          </div>

          <ul class="list-comment">
            <!-- Review -->
            <li class="list-comment-item" *ngFor="let post of posts$ | async">
              <!-- Media -->
              <div class="d-flex mb-2">
                <div class="flex-shrink-0">
                  <!-- Avatar -->
                  <div class="avatar avatar-sm avatar-circle mb-2">
                    <img
                      class="avatar-img"
                      [src]="post.imageUrl || './assets/img/160x160/img10.jpg'"
                      alt="Image Description"
                    />
                  </div>
                  <!-- End Avatar -->
                </div>

                <div class="flex-grow-1 ms-2">
                  <div class="row">
                    <div class="col">
                      <h5 class="mb-0">{{ post.author || 'KSP Admin' }}</h5>

                      <ul class="list-inline fs-6">
                        <li class="list-inline-item">
                          <!-- Rating List -->
                          <div class="d-flex gap-1 me-2">
                            <img src="./assets/svg/illustrations/star.svg" alt="Review rating" width="12" />
                            <img src="./assets/svg/illustrations/star.svg" alt="Review rating" width="12" />
                            <img src="./assets/svg/illustrations/star.svg" alt="Review rating" width="12" />
                            <img src="./assets/svg/illustrations/star.svg" alt="Review rating" width="12" />
                            <img src="./assets/svg/illustrations/star.svg" alt="Review rating" width="12" />
                          </div>
                          <!-- End Rating List -->
                        </li>

                        <li class="list-inline-item">
                          {{ post.publishDate ? (post.publishDate | date : 'mediumDate') : 'No date' }}
                        </li>
                      </ul>
                    </div>
                    <!-- End Col -->

                    <div class="col-auto">
                      <!-- Dropdown -->
                      <div class="dropdown">
                        <button
                          type="button"
                          class="btn btn-ghost-secondary btn-icon btn-sm rounded-circle"
                          id="reviewMoreDropdown1"
                          data-bs-toggle="dropdown"
                          aria-expanded="false"
                        >
                          <i class="bi-three-dots-vertical"></i>
                        </button>

                        <div class="dropdown-menu dropdown-menu-end mt-1" aria-labelledby="reviewMoreDropdown1">
                          <a class="dropdown-item" href="#">
                            <i class="bi-flag dropdown-item-icon"></i> Flag as inappropriate
                          </a>

                          <a class="dropdown-item" href="#">
                            <i class="bi-exclamation-diamond dropdown-item-icon"></i> Flag as spam
                          </a>
                        </div>
                      </div>
                      <!-- End Dropdown -->
                    </div>
                    <!-- End Col -->
                  </div>
                  <!-- End Row -->
                </div>
              </div>
              <!-- End Media -->

              <h5 class="mb-1">{{ post.title }}</h5>

              <p>{{ post.description }}</p>

              <ul class="list-inline mb-1">
                <li class="list-inline-item">
                  <strong>Category:</strong> {{ post.category || 'Uncategorized' }}
                </li>
                <li class="list-inline-item">
                  <strong>Tags:</strong> {{ post.tags || 'None' }}
                </li>
              </ul>

              <ul class="list-inline mb-2">
                <li class="list-inline-item">
                  <strong>Status:</strong> {{ post.status || 'Draft' }}
                </li>
                <li class="list-inline-item">
                  <strong>Allow Comments:</strong> {{ post.allowComments ? 'Yes' : 'No' }}
                </li>
                <li class="list-inline-item">
                  <strong>Featured:</strong> {{ post.featured ? 'Yes' : 'No' }}
                </li>
              </ul>

              <div *ngIf="post.link">
                <a [href]="post.link" target="_blank" class="text-primary">
                  <i class="bi-link-45deg"></i> Visit Link
                </a>
              </div>


            </li>


          </ul>
          <!-- End List Comment -->
        </div>
        <!-- End Body -->
      </div>
    </div>
    <!-- End Row -->


  </div>
</div>

