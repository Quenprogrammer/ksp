<app-header [title]="'Favourites'" ></app-header>
<div class="container">
<div class="ps-lg-3 ps-xl-0">

  <!-- Loading -->
  <div *ngIf="loading()" class="text-center py-1">
    <lh-loading [message]="'Loading favourite products...'"></lh-loading>
  </div>

  <!-- Error -->
  <div *ngIf="!loading() && error()" class="alert alert-danger">
    {{ error() }}
  </div>

  <!-- Empty Message -->
  <div *ngIf="!loading() && products().length === 0 && !error()" class="text-center py-1 text-muted">
    <div class="card border-2  mb-3 shadow-lg" style="border-radius: 20px;height: 95vh">
      <div class="card-body d-flex flex-column justify-content-center align-items-center   text-center">
        <lh-no-document></lh-no-document>
      </div>

    </div>

  </div>

  <!-- Product List -->
  <div class="row g-4" *ngIf="!loading() && products().length > 0">
    <div class="col-md-6 col-lg-4" *ngFor="let product of products()">
      <div *ngFor="let product of products()" class="card h-100 animate-underline hover-effect-scale rounded-4 overflow-hidden">
        <div class="card-img-top position-relative bg-body-tertiary overflow-hidden">
          <a class="ratio d-block hover-effect-target" style="--cz-aspect-ratio: calc(220 / 304 * 100%)" href="shop-product-marketplace.html">
            <img [src]="product.image" alt="Image">
          </a>
          <div class="position-absolute top-0 end-0 z-2 hover-effect-target pt-1 pt-sm-0 pe-1 pe-sm-0 mt-2 mt-sm-3 me-2 me-sm-3">
            <button type="button" class="btn btn-sm btn-icon btn-light text-danger bg-light border-0 rounded-circle animate-pulse" aria-label="Add to wishlist">
              <i class="ci-heart-filled animate-target fs-sm"></i>
            </button>
          </div>
        </div>
        <div class="card-body p-3">
          <div class="d-flex min-w-0 justify-content-between gap-2 gap-sm-3 mb-2">
            <h1 class="nav min-w-0 mb-0">
              <a class="nav-link text-truncate p-0">
                <span class="text-truncate animate-target ">{{ product.name }}</span>
              </a>
            </h1>
            <div class="h6 mb-0">{{ product.price }}</div>

          </div>
          <div class="d-flex flex-wrap align-items-center justify-content-between gap-2">
            <div class="nav align-items-center gap-1 fs-xs">
              <a class="nav-link fs-xs text-body gap-1 p-0" >
                <div class="flex-shrink-0 border rounded-circle" style="width: 22px">
                  <div class="ratio ratio-1x1 rounded-circle overflow-hidden">
                    <img src="assets/img/shop/marketplace/avatars/04.png" alt="Avatar">
                  </div>
                </div>
                Category:   {{ product.seller.category }}
              </a>


            </div>
            <div class="fs-xs text-body-secondary">{{ product.sales }} Sales</div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
</div>



